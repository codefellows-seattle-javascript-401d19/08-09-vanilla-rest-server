{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:02:56.390Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:02:56.391Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:02:56.391Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:02:56.391Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:02:56.391Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:02:56.391Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:02:56.391Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:02:56.392Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:02:56.392Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:02:56.458Z"}
{"level":"verbose","message":"STORAGE - creating an empty file","timestamp":"2017-12-07T23:02:56.527Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.536Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:02:56.536Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:02:56.537Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.538Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:02:56.538Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:02:56.539Z"}
{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:02:56.539Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:02:56.539Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:02:56.542Z"}
{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:02:56.542Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.561Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:02:56.561Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:02:56.562Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:02:56.562Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:02:56.562Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.566Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:02:56.566Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:02:56.566Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.566Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:02:56.566Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:02:56.567Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.569Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:02:56.569Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:02:56.569Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.570Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:02:56.571Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:02:56.572Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:65:29)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:02:56.573Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.578Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:02:56.578Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:02:56.578Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.578Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:02:56.578Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:02:56.579Z"}
{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:02:56.579Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:02:56.580Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:02:56.582Z"}
{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:02:56.582Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.590Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=c34b8220-dba2-11e7-9d27-2b08c9135c82\"","timestamp":"2017-12-07T23:02:56.592Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=c34b8220-dba2-11e7-9d27-2b08c9135c82\",\"query\":{\"id\":\"c34b8220-dba2-11e7-9d27-2b08c9135c82\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=c34b8220-dba2-11e7-9d27-2b08c9135c82\",\"href\":\"/api/teams?id=c34b8220-dba2-11e7-9d27-2b08c9135c82\"}","timestamp":"2017-12-07T23:02:56.599Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.599Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:02:56.599Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:02:56.600Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:02:56.600Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.607Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:02:56.607Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:02:56.607Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.607Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:02:56.607Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:02:56.607Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:02:56.607Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.611Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:02:56.611Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:02:56.611Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.612Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:02:56.612Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:02:56.612Z"}
{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:02:56.612Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:02:56.612Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:02:56.613Z"}
{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:02:56.613Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.615Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=c350b240-dba2-11e7-9d27-2b08c9135c82\"","timestamp":"2017-12-07T23:02:56.616Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=c350b240-dba2-11e7-9d27-2b08c9135c82\",\"query\":{\"id\":\"c350b240-dba2-11e7-9d27-2b08c9135c82\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=c350b240-dba2-11e7-9d27-2b08c9135c82\",\"href\":\"/api/teams?id=c350b240-dba2-11e7-9d27-2b08c9135c82\"}","timestamp":"2017-12-07T23:02:56.616Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.616Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:02:56.616Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:02:56.616Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:71:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:02:56.616Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.619Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:02:56.619Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:02:56.619Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.619Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:02:56.620Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:02:56.620Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:02:56.625Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:02:56.625Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:02:56.625Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:02:56.625Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:02:56.625Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:02:56.625Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:71:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:02:56.625Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[42]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[43]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[44]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[45]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[46]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[47]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[48]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[49]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:02.874Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:08:02.936Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:02.982Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:02.982Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:02.982Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:02.983Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:02.983Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:08:02.983Z"}
{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:08:02.983Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:02.983Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:02.985Z"}
{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:08:02.985Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:02.993Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:02.993Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:02.993Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:02.993Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:08:02.993Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:02.995Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:02.996Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:02.996Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:02.996Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:02.996Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:08:02.996Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:02.998Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:02.998Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:02.998Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:02.998Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:02.998Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:02.998Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:02.998Z"}
{"level":"info","message":"Promise { <pending> }","timestamp":"2017-12-07T23:08:02.999Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:03.002Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:03.002Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:03.002Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:03.002Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:03.002Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:08:03.002Z"}
{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:08:03.002Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:03.002Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:03.003Z"}
{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:08:03.003Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:03.005Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=79f019a0-dba3-11e7-ab65-59d115e0c848\"","timestamp":"2017-12-07T23:08:03.005Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=79f019a0-dba3-11e7-ab65-59d115e0c848\",\"query\":{\"id\":\"79f019a0-dba3-11e7-ab65-59d115e0c848\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=79f019a0-dba3-11e7-ab65-59d115e0c848\",\"href\":\"/api/teams?id=79f019a0-dba3-11e7-ab65-59d115e0c848\"}","timestamp":"2017-12-07T23:08:03.005Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:03.006Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:03.006Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:03.006Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:03.006Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:03.007Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:08:03.008Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:08:03.008Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:03.008Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:03.008Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:03.008Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:03.008Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:08:03.011Z"}
{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:03.011Z"}
{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:08:03.011Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:03.014Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=79f17930-dba3-11e7-ab65-59d115e0c848\"","timestamp":"2017-12-07T23:08:03.014Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=79f17930-dba3-11e7-ab65-59d115e0c848\",\"query\":{\"id\":\"79f17930-dba3-11e7-ab65-59d115e0c848\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=79f17930-dba3-11e7-ab65-59d115e0c848\",\"href\":\"/api/teams?id=79f17930-dba3-11e7-ab65-59d115e0c848\"}","timestamp":"2017-12-07T23:08:03.014Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:03.014Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[42]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[43]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[44]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[45]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[46]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[47]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[48]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[49]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:03.014Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:03.014Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:72:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:03.014Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:03.016Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:03.017Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:03.017Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:03.017Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[42]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[43]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[44]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[45]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[46]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[47]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[48]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[49]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:03.017Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:08:03.017Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:03.018Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:08:03.019Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:08:03.019Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:03.019Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[42]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[43]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[44]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[45]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[46]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[47]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[48]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[49]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:03.019Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:03.019Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:72:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:03.019Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:08:59.519Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    console.log(teams); /* istanbul ignore next */cov_jpdvvgrf6.s[41]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:59.520Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:08:59.582Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.645Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:59.645Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:59.645Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.646Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:59.646Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:08:59.647Z"}
{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:08:59.647Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:59.647Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:59.649Z"}
{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:08:59.649Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.658Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:59.658Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:59.658Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:59.658Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:08:59.659Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.661Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:59.661Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:59.661Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.661Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:59.661Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:08:59.661Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.663Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:59.663Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:59.663Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.663Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    console.log(teams); /* istanbul ignore next */cov_jpdvvgrf6.s[41]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:59.663Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:59.663Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:59.665Z"}
{"level":"info","message":"Promise { <pending> }","timestamp":"2017-12-07T23:08:59.665Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.667Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:59.667Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:59.667Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.667Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:59.667Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:08:59.667Z"}
{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:08:59.667Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:59.667Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:59.668Z"}
{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:08:59.668Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.670Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=9bb67e30-dba3-11e7-b218-37e1448b1667\"","timestamp":"2017-12-07T23:08:59.670Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=9bb67e30-dba3-11e7-b218-37e1448b1667\",\"query\":{\"id\":\"9bb67e30-dba3-11e7-b218-37e1448b1667\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=9bb67e30-dba3-11e7-b218-37e1448b1667\",\"href\":\"/api/teams?id=9bb67e30-dba3-11e7-b218-37e1448b1667\"}","timestamp":"2017-12-07T23:08:59.670Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.670Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    console.log(teams); /* istanbul ignore next */cov_jpdvvgrf6.s[41]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:59.670Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:59.670Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:59.670Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.672Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:08:59.672Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:08:59.672Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.672Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;\n    let teams = /* istanbul ignore next */(cov_jpdvvgrf6.s[39]++, storage.fetchAll()); /* istanbul ignore next */cov_jpdvvgrf6.s[40]++;\n    console.log(teams); /* istanbul ignore next */cov_jpdvvgrf6.s[41]++;\n    sendJSON(response, 200, teams);\n  }\n}","timestamp":"2017-12-07T23:08:59.672Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:59.672Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:59.672Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.675Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:59.675Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:59.675Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.676Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:08:59.676Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:08:59.676Z"}
{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:08:59.676Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:08:59.676Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:08:59.676Z"}
{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:08:59.676Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.678Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=9bb7ddc0-dba3-11e7-b218-37e1448b1667\"","timestamp":"2017-12-07T23:08:59.678Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=9bb7ddc0-dba3-11e7-b218-37e1448b1667\",\"query\":{\"id\":\"9bb7ddc0-dba3-11e7-b218-37e1448b1667\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=9bb7ddc0-dba3-11e7-b218-37e1448b1667\",\"href\":\"/api/teams?id=9bb7ddc0-dba3-11e7-b218-37e1448b1667\"}","timestamp":"2017-12-07T23:08:59.678Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.678Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:59.678Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:59.678Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:73:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:59.678Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.680Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:08:59.680Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:08:59.680Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.680Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:59.680Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:08:59.680Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:08:59.681Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:08:59.682Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:08:59.682Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:08:59.682Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:08:59.682Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:08:59.682Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:73:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:08:59.682Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:18:58.992Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:18:58.992Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:18:58.992Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:18:58.993Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:18:58.993Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[40]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[41]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:18:58.993Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:18:58.993Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:18:58.993Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:18:58.993Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:18:59.056Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.103Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:18:59.103Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:18:59.103Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.104Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:18:59.104Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:18:59.105Z"}
{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:18:59.105Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:18:59.105Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:18:59.107Z"}
{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:18:59.107Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.115Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:18:59.115Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:18:59.115Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:18:59.115Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:18:59.115Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.118Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:18:59.118Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:18:59.118Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.118Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:18:59.118Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:18:59.118Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.120Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:18:59.120Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:18:59.121Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.121Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[40]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[41]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:18:59.121Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:18:59.121Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:18:59.121Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.124Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:18:59.124Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:18:59.124Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.125Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:18:59.125Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:18:59.125Z"}
{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:18:59.125Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:18:59.125Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:18:59.125Z"}
{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:18:59.126Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.128Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=01048650-dba5-11e7-8505-efbc4d0b6ca2\"","timestamp":"2017-12-07T23:18:59.128Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=01048650-dba5-11e7-8505-efbc4d0b6ca2\",\"query\":{\"id\":\"01048650-dba5-11e7-8505-efbc4d0b6ca2\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=01048650-dba5-11e7-8505-efbc4d0b6ca2\",\"href\":\"/api/teams?id=01048650-dba5-11e7-8505-efbc4d0b6ca2\"}","timestamp":"2017-12-07T23:18:59.128Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.128Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[40]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[41]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:18:59.128Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:18:59.128Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:18:59.128Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.131Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:18:59.131Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:18:59.131Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.131Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;\n    let teamById = /* istanbul ignore next */(cov_jpdvvgrf6.s[34]++, teams.find(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[36]++;\n    if (teamById === undefined) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[37]++;\n      sendStatus(response, 404, 'id not found');\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[38]++;\n      sendJSON(response, 200, teamById);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[39]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[40]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[41]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:18:59.131Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:18:59.131Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.get (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:58:70)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:18:59.131Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.134Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:18:59.134Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:18:59.134Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.134Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:18:59.134Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:18:59.134Z"}
{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:18:59.134Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:18:59.134Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:18:59.135Z"}
{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:18:59.135Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.137Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=0105e5e0-dba5-11e7-8505-efbc4d0b6ca2\"","timestamp":"2017-12-07T23:18:59.137Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=0105e5e0-dba5-11e7-8505-efbc4d0b6ca2\",\"query\":{\"id\":\"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=0105e5e0-dba5-11e7-8505-efbc4d0b6ca2\",\"href\":\"/api/teams?id=0105e5e0-dba5-11e7-8505-efbc4d0b6ca2\"}","timestamp":"2017-12-07T23:18:59.137Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.138Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:18:59.138Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:18:59.138Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:75:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:18:59.138Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.140Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:18:59.140Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:18:59.140Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.140Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:18:59.140Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:18:59.140Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:18:59.142Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:18:59.142Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:18:59.142Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:18:59.142Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[43]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[44]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[45]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[46]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[7][0]++;cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[7][1]++;cov_jpdvvgrf6.s[48]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[49]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[50]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:18:59.142Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:18:59.142Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:75:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:18:59.142Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:26:53.818Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:26:53.819Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:26:53.883Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.929Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:26:53.930Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:26:53.930Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.930Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:26:53.930Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:26:53.931Z"}
{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:26:53.931Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:26:53.931Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:26:53.934Z"}
{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:26:53.934Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.942Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:26:53.942Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:26:53.942Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:26:53.942Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:26:53.942Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.945Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:26:53.945Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:26:53.945Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.946Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:26:53.946Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:26:53.946Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.948Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:26:53.948Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:26:53.948Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.948Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:26:53.948Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:26:53.948Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:26:53.949Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.952Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:26:53.952Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:26:53.952Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.952Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:26:53.952Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:26:53.952Z"}
{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:26:53.952Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:26:53.952Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:26:53.953Z"}
{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:26:53.953Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.955Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1c096000-dba6-11e7-b93d-c1339f7f8631\"","timestamp":"2017-12-07T23:26:53.955Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1c096000-dba6-11e7-b93d-c1339f7f8631\",\"query\":{\"id\":\"1c096000-dba6-11e7-b93d-c1339f7f8631\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1c096000-dba6-11e7-b93d-c1339f7f8631\",\"href\":\"/api/teams?id=1c096000-dba6-11e7-b93d-c1339f7f8631\"}","timestamp":"2017-12-07T23:26:53.956Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.956Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:26:53.956Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1c096000-dba6-11e7-b93d-c1339f7f8631","timestamp":"2017-12-07T23:26:53.956Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:26:53.956Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:26:53.956Z"}
{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:26:53.956Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.958Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:26:53.958Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:26:53.959Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.959Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:26:53.959Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1234","timestamp":"2017-12-07T23:26:53.959Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:26:53.959Z"}
{"level":"info","message":"Responding with a 500 code due to Error: __STORAGE_ERROR_ team not found","timestamp":"2017-12-07T23:26:53.959Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.963Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:26:53.963Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:26:53.963Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.963Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:26:53.963Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:26:53.963Z"}
{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:26:53.963Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:26:53.963Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:26:53.964Z"}
{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:26:53.964Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.966Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1c0b0db0-dba6-11e7-b93d-c1339f7f8631\"","timestamp":"2017-12-07T23:26:53.966Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1c0b0db0-dba6-11e7-b93d-c1339f7f8631\",\"query\":{\"id\":\"1c0b0db0-dba6-11e7-b93d-c1339f7f8631\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1c0b0db0-dba6-11e7-b93d-c1339f7f8631\",\"href\":\"/api/teams?id=1c0b0db0-dba6-11e7-b93d-c1339f7f8631\"}","timestamp":"2017-12-07T23:26:53.966Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.966Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:26:53.966Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:26:53.966Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:74:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:26:53.966Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.968Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:26:53.968Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:26:53.968Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.969Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:26:53.969Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:26:53.969Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:26:53.971Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:26:53.971Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:26:53.971Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:26:53.971Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:26:53.971Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:26:53.971Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:74:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:26:53.971Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:28:43.694Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 404, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:28:43.695Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:28:43.763Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.810Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:28:43.810Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:28:43.810Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.811Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:28:43.811Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:28:43.811Z"}
{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:28:43.811Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:28:43.812Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:28:43.814Z"}
{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:28:43.814Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.821Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:28:43.821Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:28:43.822Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:28:43.822Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:28:43.822Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.824Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:28:43.824Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:28:43.825Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.825Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:28:43.825Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:28:43.825Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.827Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:28:43.827Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:28:43.827Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.827Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 404, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:28:43.827Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:28:43.827Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:28:43.828Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.831Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:28:43.831Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:28:43.831Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.831Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:28:43.831Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:28:43.831Z"}
{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:28:43.831Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:28:43.832Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:28:43.832Z"}
{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:28:43.832Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.834Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=5d879470-dba6-11e7-be12-b375454cf9d1\"","timestamp":"2017-12-07T23:28:43.834Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=5d879470-dba6-11e7-be12-b375454cf9d1\",\"query\":{\"id\":\"5d879470-dba6-11e7-be12-b375454cf9d1\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=5d879470-dba6-11e7-be12-b375454cf9d1\",\"href\":\"/api/teams?id=5d879470-dba6-11e7-be12-b375454cf9d1\"}","timestamp":"2017-12-07T23:28:43.835Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.835Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 404, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:28:43.835Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 5d879470-dba6-11e7-be12-b375454cf9d1","timestamp":"2017-12-07T23:28:43.835Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:28:43.835Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:28:43.836Z"}
{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:28:43.836Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 500, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 404, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1234","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"info","message":"Responding with a 500 code due to Error: __STORAGE_ERROR_ team not found","timestamp":"2017-12-07T23:28:43.838Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.842Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:28:43.842Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:28:43.842Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.842Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:28:43.842Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:28:43.842Z"}
{"id":"5d894220-dba6-11e7-be12-b375454cf9d1","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:28:43.842Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:28:43.842Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:28:43.843Z"}
{"id":"5d894220-dba6-11e7-be12-b375454cf9d1","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:28:43.843Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.845Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=5d894220-dba6-11e7-be12-b375454cf9d1\"","timestamp":"2017-12-07T23:28:43.845Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=5d894220-dba6-11e7-be12-b375454cf9d1\",\"query\":{\"id\":\"5d894220-dba6-11e7-be12-b375454cf9d1\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=5d894220-dba6-11e7-be12-b375454cf9d1\",\"href\":\"/api/teams?id=5d894220-dba6-11e7-be12-b375454cf9d1\"}","timestamp":"2017-12-07T23:28:43.845Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.845Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:28:43.845Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:28:43.846Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:74:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:28:43.846Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.849Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:28:43.849Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:28:43.849Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.849Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:28:43.850Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:28:43.850Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:28:43.852Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:28:43.852Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:28:43.852Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:28:43.852Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:28:43.852Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:28:43.852Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:74:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:28:43.852Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:29:07.906Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:29:07.907Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:29:07.945Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:07.990Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:29:07.990Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:29:07.991Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:07.991Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:29:07.991Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:29:07.992Z"}
{"id":"6bee4180-dba6-11e7-86e6-9f04c997e04a","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:29:07.992Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:29:07.992Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:29:07.994Z"}
{"id":"6bee4180-dba6-11e7-86e6-9f04c997e04a","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:29:07.994Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.001Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:29:08.002Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:29:08.002Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:29:08.002Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:29:08.002Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.005Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:29:08.005Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:29:08.005Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.005Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:29:08.005Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:29:08.005Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.007Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:29:08.007Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:29:08.007Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.007Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:29:08.007Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:29:08.008Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:29:08.008Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"5d894220-dba6-11e7-be12-b375454cf9d1","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"6bee4180-dba6-11e7-86e6-9f04c997e04a","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.013Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:29:08.013Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:29:08.013Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.013Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:29:08.013Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:29:08.013Z"}
{"id":"6bf175d0-dba6-11e7-86e6-9f04c997e04a","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:29:08.013Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:29:08.013Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:29:08.014Z"}
{"id":"6bf175d0-dba6-11e7-86e6-9f04c997e04a","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:29:08.014Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.016Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=6bf175d0-dba6-11e7-86e6-9f04c997e04a\"","timestamp":"2017-12-07T23:29:08.016Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=6bf175d0-dba6-11e7-86e6-9f04c997e04a\",\"query\":{\"id\":\"6bf175d0-dba6-11e7-86e6-9f04c997e04a\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=6bf175d0-dba6-11e7-86e6-9f04c997e04a\",\"href\":\"/api/teams?id=6bf175d0-dba6-11e7-86e6-9f04c997e04a\"}","timestamp":"2017-12-07T23:29:08.016Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.017Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:29:08.017Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 6bf175d0-dba6-11e7-86e6-9f04c997e04a","timestamp":"2017-12-07T23:29:08.017Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:29:08.017Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:29:08.017Z"}
{"id":"6bf175d0-dba6-11e7-86e6-9f04c997e04a","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:29:08.017Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.019Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:29:08.019Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:29:08.020Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.020Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:29:08.020Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1234","timestamp":"2017-12-07T23:29:08.020Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:29:08.020Z"}
{"level":"info","message":"Responding with a 404 code due to Error: __STORAGE_ERROR_ team not found","timestamp":"2017-12-07T23:29:08.020Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.022Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:29:08.022Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:29:08.022Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.022Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:29:08.022Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:29:08.022Z"}
{"id":"6bf2d560-dba6-11e7-86e6-9f04c997e04a","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:29:08.022Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:29:08.022Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:29:08.023Z"}
{"id":"6bf2d560-dba6-11e7-86e6-9f04c997e04a","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:29:08.023Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.025Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=6bf2d560-dba6-11e7-86e6-9f04c997e04a\"","timestamp":"2017-12-07T23:29:08.025Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=6bf2d560-dba6-11e7-86e6-9f04c997e04a\",\"query\":{\"id\":\"6bf2d560-dba6-11e7-86e6-9f04c997e04a\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=6bf2d560-dba6-11e7-86e6-9f04c997e04a\",\"href\":\"/api/teams?id=6bf2d560-dba6-11e7-86e6-9f04c997e04a\"}","timestamp":"2017-12-07T23:29:08.025Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.025Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:29:08.025Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:29:08.026Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:74:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:29:08.026Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.028Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:29:08.028Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:29:08.028Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.028Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:29:08.028Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:29:08.028Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:29:08.032Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:29:08.032Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:29:08.032Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:29:08.032Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;\n    let teamIndex = /* istanbul ignore next */(cov_jpdvvgrf6.s[42]++, teams.findIndex(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;return team.id === request.url.query.id;})); /* istanbul ignore next */cov_jpdvvgrf6.s[44]++;\n    if (teamIndex < 0) {/* istanbul ignore next */cov_jpdvvgrf6.b[6][0]++;cov_jpdvvgrf6.s[45]++;\n      sendStatus(response, 404);\n    } else {/* istanbul ignore next */cov_jpdvvgrf6.b[6][1]++;cov_jpdvvgrf6.s[46]++;\n      teams.splice(teamIndex, 1); /* istanbul ignore next */cov_jpdvvgrf6.s[47]++;\n      sendStatus(response, 204);\n    }\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[48]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:29:08.032Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:29:08.032Z"}
{"message":"teams is not defined","stack":"ReferenceError: teams is not defined\n    at Object.<anonymous>.router.delete (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/route/team-router.js:74:71)\n    at requestParser.parse.then.request (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/router.js:50:89)\n    at <anonymous>\n    at process._tickCallback (internal/process/next_tick.js:188:7)","level":"info","timestamp":"2017-12-07T23:29:08.032Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-07T23:35:05.453Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:35:05.453Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:35:05.453Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-07T23:35:05.453Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:35:05.453Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:35:05.453Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-07T23:35:05.454Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-07T23:35:05.454Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:35:05.454Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-07T23:35:05.521Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.568Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:35:05.568Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:35:05.568Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.569Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:35:05.569Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:35:05.569Z"}
{"id":"41102d10-dba7-11e7-ad6e-05fcece98dde","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-07T23:35:05.569Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.569Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:35:05.572Z"}
{"id":"41102d10-dba7-11e7-ad6e-05fcece98dde","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-07T23:35:05.572Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.579Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:35:05.579Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:35:05.579Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-07T23:35:05.580Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-07T23:35:05.580Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.582Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:35:05.583Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:35:05.583Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.583Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:35:05.583Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-07T23:35:05.583Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.585Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:35:05.585Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:35:05.585Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.585Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:35:05.585Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.585Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:35:05.586Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"5d894220-dba6-11e7-be12-b375454cf9d1","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"6bee4180-dba6-11e7-86e6-9f04c997e04a","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"6bf175d0-dba6-11e7-86e6-9f04c997e04a","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"6bf2d560-dba6-11e7-86e6-9f04c997e04a","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"41102d10-dba7-11e7-ad6e-05fcece98dde","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.589Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:35:05.589Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:35:05.589Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.589Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:35:05.589Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:35:05.589Z"}
{"id":"41133a50-dba7-11e7-ad6e-05fcece98dde","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-07T23:35:05.589Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.590Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:35:05.590Z"}
{"id":"41133a50-dba7-11e7-ad6e-05fcece98dde","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:35:05.590Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.592Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=41133a50-dba7-11e7-ad6e-05fcece98dde\"","timestamp":"2017-12-07T23:35:05.592Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=41133a50-dba7-11e7-ad6e-05fcece98dde\",\"query\":{\"id\":\"41133a50-dba7-11e7-ad6e-05fcece98dde\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=41133a50-dba7-11e7-ad6e-05fcece98dde\",\"href\":\"/api/teams?id=41133a50-dba7-11e7-ad6e-05fcece98dde\"}","timestamp":"2017-12-07T23:35:05.593Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.593Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:35:05.593Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 41133a50-dba7-11e7-ad6e-05fcece98dde","timestamp":"2017-12-07T23:35:05.593Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.593Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:35:05.594Z"}
{"id":"41133a50-dba7-11e7-ad6e-05fcece98dde","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-07T23:35:05.594Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.596Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:35:05.596Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:35:05.596Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.596Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-07T23:35:05.596Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1234","timestamp":"2017-12-07T23:35:05.596Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.596Z"}
{"level":"info","message":"Responding with a 404 code due to Error: __STORAGE_ERROR_ team not found","timestamp":"2017-12-07T23:35:05.597Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.599Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:35:05.599Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:35:05.599Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.599Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-07T23:35:05.599Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-07T23:35:05.599Z"}
{"id":"4114c0f0-dba7-11e7-ad6e-05fcece98dde","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-07T23:35:05.599Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.599Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-07T23:35:05.600Z"}
{"id":"4114c0f0-dba7-11e7-ad6e-05fcece98dde","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-07T23:35:05.600Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.602Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=4114c0f0-dba7-11e7-ad6e-05fcece98dde\"","timestamp":"2017-12-07T23:35:05.602Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=4114c0f0-dba7-11e7-ad6e-05fcece98dde\",\"query\":{\"id\":\"4114c0f0-dba7-11e7-ad6e-05fcece98dde\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=4114c0f0-dba7-11e7-ad6e-05fcece98dde\",\"href\":\"/api/teams?id=4114c0f0-dba7-11e7-ad6e-05fcece98dde\"}","timestamp":"2017-12-07T23:35:05.603Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.603Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:35:05.603Z"}
{"level":"verbose","message":"STORAGE - deleting an item with id 4114c0f0-dba7-11e7-ad6e-05fcece98dde","timestamp":"2017-12-07T23:35:05.603Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.603Z"}
{"level":"info","message":"Responding with a 204 code due to undefined","timestamp":"2017-12-07T23:35:05.603Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.605Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-07T23:35:05.605Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-07T23:35:05.605Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.605Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:35:05.605Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-07T23:35:05.605Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-07T23:35:05.607Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-07T23:35:05.607Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-07T23:35:05.607Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-07T23:35:05.607Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-07T23:35:05.607Z"}
{"level":"verbose","message":"STORAGE - deleting an item with id 1234","timestamp":"2017-12-07T23:35:05.607Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-07T23:35:05.607Z"}
{"level":"info","message":"Responding with a 204 code due to undefined","timestamp":"2017-12-07T23:35:05.608Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-08T00:00:08.740Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:00:08.741Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-08T00:00:08.801Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.847Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:00:08.847Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:00:08.847Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.848Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:00:08.848Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:00:08.848Z"}
{"id":"c1165900-dbaa-11e7-94c7-11f35bbec92f","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-08T00:00:08.848Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.848Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:00:08.852Z"}
{"id":"c1165900-dbaa-11e7-94c7-11f35bbec92f","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-08T00:00:08.852Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.859Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:00:08.859Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:00:08.860Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-08T00:00:08.860Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-08T00:00:08.860Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.862Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:00:08.863Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:00:08.863Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.863Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:00:08.863Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-08T00:00:08.863Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.865Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:00:08.865Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:00:08.865Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.865Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:00:08.865Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.865Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:00:08.866Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"5d894220-dba6-11e7-be12-b375454cf9d1","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"6bee4180-dba6-11e7-86e6-9f04c997e04a","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"6bf175d0-dba6-11e7-86e6-9f04c997e04a","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"6bf2d560-dba6-11e7-86e6-9f04c997e04a","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"41102d10-dba7-11e7-ad6e-05fcece98dde","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"41133a50-dba7-11e7-ad6e-05fcece98dde","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c1165900-dbaa-11e7-94c7-11f35bbec92f","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.870Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:00:08.870Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:00:08.870Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.870Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:00:08.870Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:00:08.870Z"}
{"id":"c119b460-dbaa-11e7-94c7-11f35bbec92f","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-08T00:00:08.870Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.870Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:00:08.871Z"}
{"id":"c119b460-dbaa-11e7-94c7-11f35bbec92f","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-08T00:00:08.871Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.873Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=c119b460-dbaa-11e7-94c7-11f35bbec92f\"","timestamp":"2017-12-08T00:00:08.873Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=c119b460-dbaa-11e7-94c7-11f35bbec92f\",\"query\":{\"id\":\"c119b460-dbaa-11e7-94c7-11f35bbec92f\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=c119b460-dbaa-11e7-94c7-11f35bbec92f\",\"href\":\"/api/teams?id=c119b460-dbaa-11e7-94c7-11f35bbec92f\"}","timestamp":"2017-12-08T00:00:08.874Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.874Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:00:08.874Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id c119b460-dbaa-11e7-94c7-11f35bbec92f","timestamp":"2017-12-08T00:00:08.874Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.874Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:00:08.874Z"}
{"id":"c119b460-dbaa-11e7-94c7-11f35bbec92f","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-08T00:00:08.874Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.876Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-08T00:00:08.876Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-08T00:00:08.877Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.877Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:00:08.877Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1234","timestamp":"2017-12-08T00:00:08.877Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.877Z"}
{"level":"info","message":"Responding with a 404 code due to Error: __STORAGE_ERROR_ team not found","timestamp":"2017-12-08T00:00:08.877Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.879Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:00:08.879Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:00:08.879Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.879Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:00:08.879Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:00:08.879Z"}
{"id":"c11b13f0-dbaa-11e7-94c7-11f35bbec92f","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-08T00:00:08.879Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.879Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:00:08.880Z"}
{"id":"c11b13f0-dbaa-11e7-94c7-11f35bbec92f","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-08T00:00:08.880Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=c11b13f0-dbaa-11e7-94c7-11f35bbec92f\"","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=c11b13f0-dbaa-11e7-94c7-11f35bbec92f\",\"query\":{\"id\":\"c11b13f0-dbaa-11e7-94c7-11f35bbec92f\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=c11b13f0-dbaa-11e7-94c7-11f35bbec92f\",\"href\":\"/api/teams?id=c11b13f0-dbaa-11e7-94c7-11f35bbec92f\"}","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"verbose","message":"STORAGE - deleting an item with id c11b13f0-dbaa-11e7-94c7-11f35bbec92f","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"info","message":"Responding with a 204 code due to undefined","timestamp":"2017-12-08T00:00:08.883Z"}
{"level":"info","message":"Responding with a 404 code due to TypeError: Cannot read property 'then' of undefined","timestamp":"2017-12-08T00:00:08.886Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.886Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:00:08.886Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:00:08.886Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.887Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:00:08.887Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-08T00:00:08.887Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:00:08.888Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-08T00:00:08.888Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-08T00:00:08.888Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:00:08.888Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:00:08.889Z"}
{"level":"verbose","message":"STORAGE - deleting an item with id 1234","timestamp":"2017-12-08T00:00:08.889Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:00:08.889Z"}
{"level":"info","message":"Responding with a 204 code due to undefined","timestamp":"2017-12-08T00:00:08.889Z"}
{"level":"info","message":"Responding with a 404 code due to TypeError: Cannot read property 'then' of undefined","timestamp":"2017-12-08T00:00:09.113Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-08T00:23:04.963Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:23:04.964Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-08T00:23:05.040Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.096Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:23:05.097Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:23:05.097Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.097Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:23:05.098Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:23:05.098Z"}
{"id":"f5656ea0-dbad-11e7-9f15-4147e0c4be3e","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-08T00:23:05.098Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.098Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:23:05.102Z"}
{"id":"f5656ea0-dbad-11e7-9f15-4147e0c4be3e","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-08T00:23:05.102Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.110Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:23:05.110Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:23:05.110Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-08T00:23:05.111Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-08T00:23:05.111Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.113Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:23:05.113Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:23:05.113Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.113Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:23:05.114Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-08T00:23:05.114Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.115Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:23:05.115Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:23:05.115Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.116Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:23:05.116Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.116Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:23:05.116Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"5d894220-dba6-11e7-be12-b375454cf9d1","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"6bee4180-dba6-11e7-86e6-9f04c997e04a","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"6bf175d0-dba6-11e7-86e6-9f04c997e04a","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"6bf2d560-dba6-11e7-86e6-9f04c997e04a","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"41102d10-dba7-11e7-ad6e-05fcece98dde","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"41133a50-dba7-11e7-ad6e-05fcece98dde","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c1165900-dbaa-11e7-94c7-11f35bbec92f","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c119b460-dbaa-11e7-94c7-11f35bbec92f","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c11b13f0-dbaa-11e7-94c7-11f35bbec92f","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"f5656ea0-dbad-11e7-9f15-4147e0c4be3e","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.121Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:23:05.121Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:23:05.121Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.121Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:23:05.121Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:23:05.121Z"}
{"id":"f568f110-dbad-11e7-9f15-4147e0c4be3e","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-08T00:23:05.121Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.121Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:23:05.122Z"}
{"id":"f568f110-dbad-11e7-9f15-4147e0c4be3e","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-08T00:23:05.122Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.124Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=f568f110-dbad-11e7-9f15-4147e0c4be3e\"","timestamp":"2017-12-08T00:23:05.124Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=f568f110-dbad-11e7-9f15-4147e0c4be3e\",\"query\":{\"id\":\"f568f110-dbad-11e7-9f15-4147e0c4be3e\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=f568f110-dbad-11e7-9f15-4147e0c4be3e\",\"href\":\"/api/teams?id=f568f110-dbad-11e7-9f15-4147e0c4be3e\"}","timestamp":"2017-12-08T00:23:05.124Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.124Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:23:05.124Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id f568f110-dbad-11e7-9f15-4147e0c4be3e","timestamp":"2017-12-08T00:23:05.124Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.125Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:23:05.125Z"}
{"id":"f568f110-dbad-11e7-9f15-4147e0c4be3e","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-08T00:23:05.125Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1234","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"info","message":"Responding with a 404 code due to Error: __STORAGE_ERROR_ team not found","timestamp":"2017-12-08T00:23:05.128Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.130Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:23:05.130Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:23:05.130Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.130Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:23:05.130Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:23:05.130Z"}
{"id":"f56a50a0-dbad-11e7-9f15-4147e0c4be3e","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-08T00:23:05.130Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.130Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:23:05.131Z"}
{"id":"f56a50a0-dbad-11e7-9f15-4147e0c4be3e","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-08T00:23:05.131Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.133Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=f56a50a0-dbad-11e7-9f15-4147e0c4be3e\"","timestamp":"2017-12-08T00:23:05.133Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=f56a50a0-dbad-11e7-9f15-4147e0c4be3e\",\"query\":{\"id\":\"f56a50a0-dbad-11e7-9f15-4147e0c4be3e\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=f56a50a0-dbad-11e7-9f15-4147e0c4be3e\",\"href\":\"/api/teams?id=f56a50a0-dbad-11e7-9f15-4147e0c4be3e\"}","timestamp":"2017-12-08T00:23:05.134Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.134Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:23:05.134Z"}
{"level":"verbose","message":"STORAGE - deleting an item with id f56a50a0-dbad-11e7-9f15-4147e0c4be3e","timestamp":"2017-12-08T00:23:05.134Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.134Z"}
{"level":"info","message":"Responding with a 204 code due to undefined","timestamp":"2017-12-08T00:23:05.134Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.137Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:23:05.137Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:23:05.137Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.137Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:23:05.137Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-08T00:23:05.137Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"verbose","message":"STORAGE - deleting an item with id 1234","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"info","message":"Responding with a 204 code due to undefined","timestamp":"2017-12-08T00:23:05.140Z"}
{"level":"info","message":"Adding a POST url and callback","timestamp":"2017-12-08T00:25:08.609Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:25:08.609Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:25:08.610Z"}
{"level":"info","message":"Adding a GET url and callback","timestamp":"2017-12-08T00:25:08.610Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:25:08.610Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:25:08.610Z"}
{"level":"info","message":"Adding a DELETE url and callback","timestamp":"2017-12-08T00:25:08.610Z"}
{"level":"info","message":"/api/teams","timestamp":"2017-12-08T00:25:08.610Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:25:08.610Z"}
{"level":"info","message":"Server is online on port 3000","timestamp":"2017-12-08T00:25:08.672Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.719Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:25:08.720Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:25:08.720Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.720Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:25:08.720Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:25:08.721Z"}
{"id":"3f14ce10-dbae-11e7-b3f0-c399f14d05c3","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"verbose","message":"","timestamp":"2017-12-08T00:25:08.721Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:25:08.721Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:25:08.723Z"}
{"id":"3f14ce10-dbae-11e7-b3f0-c399f14d05c3","sport":"hockey","city":"Detroit","nickname":"Red Wings","level":"info","message":"","timestamp":"2017-12-08T00:25:08.723Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.732Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:25:08.732Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:25:08.732Z"}
{"level":"info","message":"__REQUEST_ERROR","timestamp":"2017-12-08T00:25:08.732Z"}
{"message":"Unexpected end of JSON input","stack":"SyntaxError: Unexpected end of JSON input\n    at JSON.parse (<anonymous>)\n    at IncomingMessage.request.on (/Users/jeffkusowski/CF/401/labs/08-09-vanilla-rest-server/lab-jeff/lib/request-parser.js:24:31)\n    at IncomingMessage.emit (events.js:159:13)\n    at endReadableNT (_stream_readable.js:1054:12)\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\n    at process._tickCallback (internal/process/next_tick.js:180:9)","level":"info","timestamp":"2017-12-08T00:25:08.732Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.735Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:25:08.735Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:25:08.735Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.735Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:25:08.735Z"}
{"level":"info","message":"Responding with a 400 code due to sport not found","timestamp":"2017-12-08T00:25:08.735Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.737Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:25:08.737Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:25:08.737Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.738Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:25:08.738Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:25:08.738Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:25:08.738Z"}
[{"id":"c34567a0-dba2-11e7-9d27-2b08c9135c82","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c34b8220-dba2-11e7-9d27-2b08c9135c82","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c350b240-dba2-11e7-9d27-2b08c9135c82","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"79ed3370-dba3-11e7-ab65-59d115e0c848","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"79f019a0-dba3-11e7-ab65-59d115e0c848","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"79f17930-dba3-11e7-ab65-59d115e0c848","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"9bb349e0-dba3-11e7-b218-37e1448b1667","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"9bb67e30-dba3-11e7-b218-37e1448b1667","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"9bb7ddc0-dba3-11e7-b218-37e1448b1667","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"01015200-dba5-11e7-8505-efbc4d0b6ca2","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"01048650-dba5-11e7-8505-efbc4d0b6ca2","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"0105e5e0-dba5-11e7-8505-efbc4d0b6ca2","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"1c062bb0-dba6-11e7-b93d-c1339f7f8631","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"1c096000-dba6-11e7-b93d-c1339f7f8631","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"1c0b0db0-dba6-11e7-b93d-c1339f7f8631","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"5d848730-dba6-11e7-be12-b375454cf9d1","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"5d879470-dba6-11e7-be12-b375454cf9d1","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"5d894220-dba6-11e7-be12-b375454cf9d1","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"6bee4180-dba6-11e7-86e6-9f04c997e04a","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"6bf175d0-dba6-11e7-86e6-9f04c997e04a","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"6bf2d560-dba6-11e7-86e6-9f04c997e04a","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"41102d10-dba7-11e7-ad6e-05fcece98dde","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"41133a50-dba7-11e7-ad6e-05fcece98dde","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c1165900-dbaa-11e7-94c7-11f35bbec92f","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"c119b460-dbaa-11e7-94c7-11f35bbec92f","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"c11b13f0-dbaa-11e7-94c7-11f35bbec92f","sport":"basketball","city":"Detroit","nickname":"Pistons"},{"id":"f5656ea0-dbad-11e7-9f15-4147e0c4be3e","sport":"hockey","city":"Detroit","nickname":"Red Wings"},{"id":"f568f110-dbad-11e7-9f15-4147e0c4be3e","sport":"football","city":"Detroit","nickname":"Lions"},{"id":"3f14ce10-dbae-11e7-b3f0-c399f14d05c3","sport":"hockey","city":"Detroit","nickname":"Red Wings"}]
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.742Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:25:08.742Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:25:08.742Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.742Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:25:08.742Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:25:08.742Z"}
{"id":"3f180260-dbae-11e7-b3f0-c399f14d05c3","sport":"football","city":"Detroit","nickname":"Lions","level":"verbose","message":"","timestamp":"2017-12-08T00:25:08.743Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:25:08.743Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:25:08.743Z"}
{"id":"3f180260-dbae-11e7-b3f0-c399f14d05c3","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-08T00:25:08.743Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.745Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=3f180260-dbae-11e7-b3f0-c399f14d05c3\"","timestamp":"2017-12-08T00:25:08.746Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=3f180260-dbae-11e7-b3f0-c399f14d05c3\",\"query\":{\"id\":\"3f180260-dbae-11e7-b3f0-c399f14d05c3\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=3f180260-dbae-11e7-b3f0-c399f14d05c3\",\"href\":\"/api/teams?id=3f180260-dbae-11e7-b3f0-c399f14d05c3\"}","timestamp":"2017-12-08T00:25:08.746Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.746Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:25:08.746Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 3f180260-dbae-11e7-b3f0-c399f14d05c3","timestamp":"2017-12-08T00:25:08.746Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:25:08.746Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:25:08.747Z"}
{"id":"3f180260-dbae-11e7-b3f0-c399f14d05c3","sport":"football","city":"Detroit","nickname":"Lions","level":"info","message":"","timestamp":"2017-12-08T00:25:08.747Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.749Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=1234\"","timestamp":"2017-12-08T00:25:08.749Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=1234\",\"query\":{\"id\":\"1234\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=1234\",\"href\":\"/api/teams?id=1234\"}","timestamp":"2017-12-08T00:25:08.749Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.749Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[5]++;cov_jpdvvgrf6.s[33]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[4][0]++;cov_jpdvvgrf6.s[34]++;\n    storage.fetchItem(request.url.query.id).\n    then(team => {/* istanbul ignore next */cov_jpdvvgrf6.f[6]++;cov_jpdvvgrf6.s[35]++;return sendJSON(response, 200, team);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[7]++;cov_jpdvvgrf6.s[36]++;\n      sendStatus(response, 404, error);\n    });\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[4][1]++;cov_jpdvvgrf6.s[37]++;\n    storage.fetchAll().\n    then(teams => {/* istanbul ignore next */cov_jpdvvgrf6.f[8]++;cov_jpdvvgrf6.s[38]++;return sendJSON(response, 200, teams);}).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[9]++;cov_jpdvvgrf6.s[39]++;\n      sendStatus(response, 500, error);\n    });\n  }\n}","timestamp":"2017-12-08T00:25:08.749Z"}
{"level":"verbose","message":"STORAGE - fetching a team with id 1234","timestamp":"2017-12-08T00:25:08.749Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:25:08.749Z"}
{"level":"info","message":"Responding with a 404 code due to Error: __STORAGE_ERROR_ team not found","timestamp":"2017-12-08T00:25:08.750Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.752Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:25:08.752Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:25:08.752Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.753Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[2]++;cov_jpdvvgrf6.s[16]++;\n  if (!request.body) {/* istanbul ignore next */cov_jpdvvgrf6.b[0][0]++;cov_jpdvvgrf6.s[17]++;\n    sendStatus(response, 400, 'body not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[18]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[0][1]++;}cov_jpdvvgrf6.s[19]++;\n  if (!request.body.sport) {/* istanbul ignore next */cov_jpdvvgrf6.b[1][0]++;cov_jpdvvgrf6.s[20]++;\n    sendStatus(response, 400, 'sport not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[21]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[1][1]++;}cov_jpdvvgrf6.s[22]++;\n  if (!request.body.city) {/* istanbul ignore next */cov_jpdvvgrf6.b[2][0]++;cov_jpdvvgrf6.s[23]++;\n    sendStatus(response, 400, 'city not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[24]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[2][1]++;}cov_jpdvvgrf6.s[25]++;\n  if (!request.body.nickname) {/* istanbul ignore next */cov_jpdvvgrf6.b[3][0]++;cov_jpdvvgrf6.s[26]++;\n    sendStatus(response, 400, 'nickname not found'); /* istanbul ignore next */cov_jpdvvgrf6.s[27]++;\n    return;\n  } else /* istanbul ignore next */{cov_jpdvvgrf6.b[3][1]++;}\n\n  let team = /* istanbul ignore next */(cov_jpdvvgrf6.s[28]++, new Team(request.body.sport, request.body.city, request.body.nickname)); /* istanbul ignore next */cov_jpdvvgrf6.s[29]++;\n  storage.addItem(team).\n  then(() => {/* istanbul ignore next */cov_jpdvvgrf6.f[3]++;cov_jpdvvgrf6.s[30]++;\n    sendJSON(response, 200, team);\n  }).\n  catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[4]++;cov_jpdvvgrf6.s[31]++;\n    sendStatus(response, 500, error);\n  });\n}","timestamp":"2017-12-08T00:25:08.753Z"}
{"level":"verbose","message":"STORAGE - adding the following team","timestamp":"2017-12-08T00:25:08.753Z"}
{"id":"3f19b010-dbae-11e7-b3f0-c399f14d05c3","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"verbose","message":"","timestamp":"2017-12-08T00:25:08.753Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:25:08.753Z"}
{"level":"info","message":"Responding with a 200 code and the following data","timestamp":"2017-12-08T00:25:08.754Z"}
{"id":"3f19b010-dbae-11e7-b3f0-c399f14d05c3","sport":"basketball","city":"Detroit","nickname":"Pistons","level":"info","message":"","timestamp":"2017-12-08T00:25:08.754Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"debug","message":"Original URL: \"/api/teams?id=3f19b010-dbae-11e7-b3f0-c399f14d05c3\"","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":\"?id=3f19b010-dbae-11e7-b3f0-c399f14d05c3\",\"query\":{\"id\":\"3f19b010-dbae-11e7-b3f0-c399f14d05c3\"},\"pathname\":\"/api/teams\",\"path\":\"/api/teams?id=3f19b010-dbae-11e7-b3f0-c399f14d05c3\",\"href\":\"/api/teams?id=3f19b010-dbae-11e7-b3f0-c399f14d05c3\"}","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"verbose","message":"STORAGE - deleting an item with id 3f19b010-dbae-11e7-b3f0-c399f14d05c3","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"verbose","message":"STORAGE - fetching all files","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"info","message":"Responding with a 204 code due to undefined","timestamp":"2017-12-08T00:25:08.756Z"}
{"level":"info","message":"Routing a Request","timestamp":"2017-12-08T00:25:08.758Z"}
{"level":"debug","message":"Original URL: \"/api/teams\"","timestamp":"2017-12-08T00:25:08.758Z"}
{"level":"debug","message":"Parsed URL: {\"protocol\":null,\"slashes\":null,\"auth\":null,\"host\":null,\"port\":null,\"hostname\":null,\"hash\":null,\"search\":null,\"query\":{},\"pathname\":\"/api/teams\",\"path\":\"/api/teams\",\"href\":\"/api/teams\"}","timestamp":"2017-12-08T00:25:08.758Z"}
{"level":"info","message":"Found the following handler","timestamp":"2017-12-08T00:25:08.758Z"}
{"level":"info","message":"(request, response) => {/* istanbul ignore next */cov_jpdvvgrf6.f[10]++;cov_jpdvvgrf6.s[41]++;\n  if (request.url.query.id) {/* istanbul ignore next */cov_jpdvvgrf6.b[5][0]++;cov_jpdvvgrf6.s[42]++;\n    storage.deleteItem(request.url.query.id).\n    then(sendStatus(response, 204)).\n    catch(error => {/* istanbul ignore next */cov_jpdvvgrf6.f[11]++;cov_jpdvvgrf6.s[43]++;\n      sendStatus(response, 404, error);\n    }); //TODO;\n  } else {/* istanbul ignore next */cov_jpdvvgrf6.b[5][1]++;cov_jpdvvgrf6.s[44]++;\n    sendStatus(response, 400);\n  }\n}","timestamp":"2017-12-08T00:25:08.758Z"}
{"level":"info","message":"Responding with a 400 code due to undefined","timestamp":"2017-12-08T00:25:08.758Z"}
