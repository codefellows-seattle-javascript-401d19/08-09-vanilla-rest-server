# Code Fellows: Seattle 401 JavaScript - 401d19


##  Lab 08: REST API

### Author:
 Catherine Looper

### Motivation

In this project, I built a RESTful (Hypertext Transfer Protocol) HTTP server. This server handles GET, POST, and DELETE requests/responses.

### Build

#### Request Parser

The request parser module returns a promise that parses the request url, querystring, and POST body (as JSON). The request parser module then exports an object containing an instantiated Promise and parsed request.body/request.body.text data.

#### Server Module

The server module is creating an http server, defining route behavior and exporting an interface for starting and stopping the server. The server module exports an object containing start and stop methods - this is to keep the rest of the server.js code private. 

The server module requires in http, winston, requestParser and cowsay. Inside requestParser.parse there is a .then promise that handles the 'GET' and 'POST' methods. There is also a .catch that contains error handling for when a POST request does not include a request.body, or request.body.text. There is also a general 400 error to catch other errors that may occur.

### Limitations

The POST request is only visible in the command line - it does not post to the browser. 

To use this app - it is assumed that the user has familiarity with the tech and frameworks listed below. 

### Code Style

Standard JavaScript with ES6

### Tech/Framework used

* JavaScript / ES6
* Node.js
* Jest
* Eslint
* Winston
* Superagent
* uuid
* dotenv

### How to use?

* Step 1. Fork and Clone the Repository.
* Step 2. npm install.
* Step 3. npm run start (to start the server).
* Step 3. Follow the specific instructions below for a GET or POST request.

#### GET request:

* To make a GET request - a user must first start the server in terminal with the command ```npm run start```.
* To make a request to ```'/'``` a user can visit ```http://localhost:3000``` in a browser. The server will send back HTML with a project description and a link to ```/cowsay```.
* The user can then click the ```cowsay``` link and will be redirected to a page that contains an image of a cow generated by ```cowsay.say()```.
* The cow image appears to be speaking. The default text will say ```"I need something good to say"```. To change this message, a user can add ```?text={message}``` to the end of the route, where ```{message}``` is whatever the user wants to replace the default text with.

#### For example:
```http://localhost:3000/cowsay?text=hello```

#### POST request:

* To make a POST request - a user must first start the server in terminal with the command ```npm run start```.
* In a new terminal tab, a user can type the data that they want to send in the following format: ```echo '{"<key>" : "<value"}' | http post localhost:3000/api/cowsay```
* The user can enter text for both the key and the value and if the request is properly formatted, the user will receive a 200 status code and the text returned in the format: ```{"content":"<value>"}```.

#### For example:

* Request: ```echo '{"cat" : "mooshy"}' | http post localhost:3000/api/cowsay```
* Response: ```{"content":"mooshy"}```

### Credits

* Code Fellows / Vinicio Vladimir Sanchez Trejo for providing the starter code.
* Andrew Bloom and I worked through the lab together.

### License

MIT Â© Catherine Looper